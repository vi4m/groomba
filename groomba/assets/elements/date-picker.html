<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">



<dom-module id="date-picker">
  <style>
    paper-input {
        display: inline;
        background-color: red;
    }
  </style>
  <template>
    <div>

            <iron-ajax
                id='myajax'
                url="http://127.0.0.1:8000/api/available-rooms/"
                params='{}'
                handle-as="json"
                on-response="handleResponse"
                debounce-duration="300"></iron-ajax>

            <!-- TODO: make it component, eg: date-range -->
            <paper-input-container inline>
              <label>start date</label> <input is="iron-input">
            </paper-input-container>
            -
            <paper-input-container inline>
              <label>start time</label> <input is="iron-input">
            </paper-input-container>
            <paper-input-container inline>
              <label>end date</label> <input is="iron-input">
            </paper-input-container>
            -
            <paper-input-container inline>
              <label>end date</label> <input is="iron-input">
            </paper-input-container>
            <paper-button id='search'>
              <iron-icon icon="search"></iron-icon>
              search free rooms
            </paper-button>
  </template>
  <script>
    Polymer({
      is: "date-picker",
      //properties: {
      //  // declare properties for the element's public API
      //  greeting: {
      //    type: String,
      //    value: "Hello!"
      //  }
      //},
      handleResponse: function () {
      },
      ready: function () {
          //http://127.0.0.1:8000/api/available-rooms/2015-06-18T10:50:10.910Z/2015-06-18T15:50:10.910Z/
          this.$.search.addEventListener('click', function(e) {

            //var dd = this.$.myajax
            debugger;
            console.log('search clicked');
          });
      }
    });
  </script>
</dom-module>
